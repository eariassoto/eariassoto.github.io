

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.25.1 with theme Tranquilpeak 0.4.0-BETA">
    <title>Make your pointers smart - C&#43;&#43; good practices</title>
    <meta name="author" content="Emmanuel Arias">
    <meta name="keywords" content="">

    <link rel="icon" href="https://eariassoto.github.io/favicon.png">
    

    
    <meta name="description" content="Ever since the C&#43;&#43; language was first standardized, new and delete were defined as the methods to create/delete objects dynamically. The new operator allocates a memory block to construct an object and then calls the proper class&rsquo; constructor to initialize it. If successful, this operator will return a pointer to the location of the memory block. Otherwise, it will return nullptr or it will throw an exception. The delete operator executes the inverse operation, it deallocates object&rsquo;s memory block.">
    <meta property="og:description" content="Ever since the C&#43;&#43; language was first standardized, new and delete were defined as the methods to create/delete objects dynamically. The new operator allocates a memory block to construct an object and then calls the proper class&rsquo; constructor to initialize it. If successful, this operator will return a pointer to the location of the memory block. Otherwise, it will return nullptr or it will throw an exception. The delete operator executes the inverse operation, it deallocates object&rsquo;s memory block.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Make your pointers smart - C&#43;&#43; good practices">
    <meta property="og:url" content="/2018/02/make-your-pointers-smart---c---good-practices/">
    <meta property="og:site_name" content="Emmanuel Arias">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Emmanuel Arias">
    <meta name="twitter:description" content="Ever since the C&#43;&#43; language was first standardized, new and delete were defined as the methods to create/delete objects dynamically. The new operator allocates a memory block to construct an object and then calls the proper class&rsquo; constructor to initialize it. If successful, this operator will return a pointer to the location of the memory block. Otherwise, it will return nullptr or it will throw an exception. The delete operator executes the inverse operation, it deallocates object&rsquo;s memory block.">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/34e6d94006f393aa22fbf320352b25b6?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://eariassoto.github.io/css/style-fpbzgxsy0kgmdvyrj5ykkg6ratccrk3gocmaqn4xpcjywmv5dteilzucro4f.min.css" />
    
    

    
      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-55905821-2', 'auto');
ga('send', 'pageview');
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://eariassoto.github.io/">Emmanuel Arias</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://eariassoto.github.io/#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/34e6d94006f393aa22fbf320352b25b6?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://eariassoto.github.io/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/34e6d94006f393aa22fbf320352b25b6?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Emmanuel Arias</h4>
        
          <h5 class="sidebar-profile-bio">A software developer looking for his $PATH</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://eariassoto.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://eariassoto.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://eariassoto.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://eariassoto.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://eariassoto.github.io/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/eariassoto" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://eariassoto.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Make your pointers smart - C&#43;&#43; good practices
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-02-28T21:05:41-06:00">
        
  February 28, 2018

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://eariassoto.github.io/categories/development">Development</a>, 
    
      <a class="category-link" href="https://eariassoto.github.io/categories/tutorials">Tutorials</a>
    
  


  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              

<p>Ever since the C++ language was first standardized, <code>new</code> and <code>delete</code> were defined as the methods to create/delete objects dynamically. The <code>new</code> operator allocates a memory block to construct an object and then calls the proper class&rsquo; constructor to initialize it. If successful, this operator will return a pointer to the location of the memory block. Otherwise, it will return <code>nullptr</code> or it will throw an exception. The <code>delete</code> operator executes the inverse operation, it deallocates object&rsquo;s memory block. Before freeing the memory, <code>delete</code> calls the object&rsquo;s destructor. The destructor is used to free memory that the object must delete.</p>

<p>Let&rsquo;s create a small example that created objects dynamically with <code>new</code> and <code>delete</code>:</p>


  
  
  
  


<figure class="highlight c&#43;&#43;">
  <figcaption>
    
  </figcaption>
  <table>
    <tbody>
      <tr>
        <td class="gutter">
          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre>
        </td>
        <td class="code">
          <pre class="c&#43;&#43; code-highlight">#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;

class Contact {
 public:
  Contact(const std::string&amp; name, const std::string&amp; email)
      : name{name}, email{email} {
    std::cout &lt;&lt; &#34;Constructed: [&#34; &lt;&lt; this &lt;&lt; &#34;]\n&#34;;
  }
  ~Contact() { std::cout &lt;&lt; &#34;Destructing: [&#34; &lt;&lt; this &lt;&lt; &#34;]\n&#34;; };

  const std::string print() {
    std::stringstream printStream;
    printStream &lt;&lt; &#34;{Name:&#34; &lt;&lt; name &lt;&lt; &#34;, Email:&#34; &lt;&lt; email &lt;&lt; &#34;}&#34;;
    return printStream.str();
  }

 protected:
  std::string name;
  std::string email;
};

int main() {
  Contact* contact = new Contact(&#34;John Doe&#34;, &#34;jdoe@mail.com&#34;);
  std::cout &lt;&lt; &#34;Contact: &#34; &lt;&lt; contact-&gt;print() &lt;&lt; &#39;\n&#39;;
  delete contact;
  return 0;
}</pre>
        </td>
      </tr>
    </tbody>
  </table>
</figure>

<p>If we run this program we will get:</p>


  
  
  
  


<figure class="highlight bash">
  <figcaption>
    
  </figcaption>
  <table>
    <tbody>
      <tr>
        <td class="gutter">
          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
        </td>
        <td class="code">
          <pre class="bash code-highlight">Constructed: [0x162bc80]
Contact: {Name:John Doe, Email:jdoe@mail.com}
Destructing: [0x162bc80]</pre>
        </td>
      </tr>
    </tbody>
  </table>
</figure>

<p>Using regular pointers, like this example can give you problems. If you miss a <code>delete</code> call on an object, the object&rsquo;s memory blocks will not be reassigned to another process. This problem is called memory leak. Leaking memory can exhaust all of the system&rsquo;s memory!</p>

<p>Another problem related to <code>new</code> and <code>delete</code> is pointer ownership. A regular pointer does not have the context to indicate who is its owner. By ownership, I mean whose object is in charge of deleting the pointer&rsquo;s reference. If no one deletes the memory, we will get our memory leaked. If <code>delete</code> gets called twice for the same object, we will get a segmentation fault. Further, if someone deletes an object, and another object tries to reference it, we will also hit a segmentation fault. With regular pointers, you must handle memory deallocation carefully. The larger your program grows, the harder will be to not make mistakes.</p>

<h1 id="introducing-smart-pointers">Introducing smart pointers</h1>

<p>Both ownership and memory deallocation are addressed by the new pointer types, introduced by the C++11 specification. Let&rsquo;s will talk about <code>unique_ptr</code> first. The <code>unique_ptr</code> type wraps dynamic memory and disposes of it when the pointer goes out of scope. A <code>unique_ptr</code> can only have one owner. Ownership can be passed between objects using the <code>std::move()</code> function. This type implements both the <code>*</code> and <code>-&gt;</code> operators to dereference memory, just like regular pointers. You can also get a raw pointer with the <code>get()</code> function.</p>

<p>Let&rsquo;s change our main function so it uses <code>unique_ptr</code> instead:</p>


  
  
  
  


<figure class="highlight c&#43;&#43;">
  <figcaption>
    
  </figcaption>
  <table>
    <tbody>
      <tr>
        <td class="gutter">
          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
        </td>
        <td class="code">
          <pre class="c&#43;&#43; code-highlight">#include &lt;memory&gt;

int main() {
  std::cout &lt;&lt; &#34;Foo\n&#34;;
  std::unique_ptr&lt;Contact&gt; contact =
      std::unique_ptr&lt;Contact&gt;(new Contact(&#34;John Doe&#34;, &#34;jdoe@mail.com&#34;));
  std::cout &lt;&lt; &#34;Contact: &#34; &lt;&lt; contact-&gt;print() &lt;&lt; &#39;\n&#39;;
  std::cout &lt;&lt; &#34;Bar\n&#34;;
  return 0;
}</pre>
        </td>
      </tr>
    </tbody>
  </table>
</figure>


  
  
  
  


<figure class="highlight bash">
  <figcaption>
    
  </figcaption>
  <table>
    <tbody>
      <tr>
        <td class="gutter">
          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
        </td>
        <td class="code">
          <pre class="bash code-highlight">Foo
Constructed: [0x1e68c80]
Contact: {Name:John Doe, Email:jdoe@mail.com}
Bar
Destructing: [0x1e68c80]</pre>
        </td>
      </tr>
    </tbody>
  </table>
</figure>

<p>I added two logs so you can verify that <code>contact</code> deletes the object after &ldquo;Bar&rdquo; is logged. This happens because <code>contact</code> is owned by <code>main</code>, and <code>main</code> goes out of scope after this log. Let&rsquo;s surround <code>contact</code> with an anonymous scope:</p>


  
  
  
  


<figure class="highlight c&#43;&#43;">
  <figcaption>
    
  </figcaption>
  <table>
    <tbody>
      <tr>
        <td class="gutter">
          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
        </td>
        <td class="code">
          <pre class="c&#43;&#43; code-highlight">int main() {
  std::cout &lt;&lt; &#34;Foo\n&#34;;
  {
    std::unique_ptr&lt;Contact&gt; contact =
        std::unique_ptr&lt;Contact&gt;(new Contact(&#34;John Doe&#34;, &#34;jdoe@mail.com&#34;));
    std::cout &lt;&lt; &#34;Contact: &#34; &lt;&lt; contact-&gt;print() &lt;&lt; &#39;\n&#39;;
  }
  std::cout &lt;&lt; &#34;Bar\n&#34;;
  return 0;
}</pre>
        </td>
      </tr>
    </tbody>
  </table>
</figure>


  
  
  
  


<figure class="highlight bash">
  <figcaption>
    
  </figcaption>
  <table>
    <tbody>
      <tr>
        <td class="gutter">
          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
        </td>
        <td class="code">
          <pre class="bash code-highlight">Foo
Constructed: [0x1e68c80]
Contact: {Name:John Doe, Email:jdoe@mail.com}
Destructing: [0x1e68c80]
Bar</pre>
        </td>
      </tr>
    </tbody>
  </table>
</figure>

<p>Now the object is deleted when the anonymous scope goes out of scope, right before the &ldquo;Bar&rdquo; log. Notice that in both examples, there is no <code>delete</code> call. We can even get rid of the <code>new</code> operator with C++14&rsquo;s <code>make_unique</code> function:</p>


  
  
  
  


<figure class="highlight c&#43;&#43;">
  <figcaption>
    
  </figcaption>
  <table>
    <tbody>
      <tr>
        <td class="gutter">
          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
        </td>
        <td class="code">
          <pre class="c&#43;&#43; code-highlight">  std::unique_ptr&lt;Contact&gt; contact =
      std::make_unique&lt;Contact&gt;(&#34;John Doe&#34;, &#34;jdoe@mail.com&#34;);
}</pre>
        </td>
      </tr>
    </tbody>
  </table>
</figure>

<p>There are cases where we need to share the ownership of an object. For this, C++11 introduced the <code>shared_ptr</code> type. Several <code>shared_ptr</code>s can refer to the same object, thus sharing ownership. Internally, these pointers keep a use counter. This counter indicates how many <code>shared_ptr</code> are sharing ownership of an object. The last <code>shared_ptr</code> owning an object deletes the object once it goes out of scope. This pointer type allows you to distribute ownership with the safety that memory will be properly freed. Let&rsquo;s add to our example a <code>compare</code> function that receives a copy <code>shared_ptr</code> as a parameter. I added logs so we can check the pointers&rsquo; use counter:</p>


  
  
  
  


<figure class="highlight c&#43;&#43;">
  <figcaption>
    
  </figcaption>
  <table>
    <tbody>
      <tr>
        <td class="gutter">
          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre>
        </td>
        <td class="code">
          <pre class="c&#43;&#43; code-highlight">class Contact {
 public:
  Contact(const std::string&amp; name, const std::string&amp; email)
      : name{name}, email{email} {
    std::cout &lt;&lt; &#34;Constructed: [&#34; &lt;&lt; this &lt;&lt; &#34;]\n&#34;;
  }
  ~Contact() { std::cout &lt;&lt; &#34;Destructing: [&#34; &lt;&lt; this &lt;&lt; &#34;]\n&#34;; };

  const std::string print() {
    std::stringstream printStream;
    printStream &lt;&lt; &#34;{Name:&#34; &lt;&lt; name &lt;&lt; &#34;, Email:&#34; &lt;&lt; email &lt;&lt; &#34;}&#34;;
    return printStream.str();
  }

  bool compare(std::shared_ptr&lt;Contact&gt; otherContact) {
    if (otherContact == nullptr) {
      std::cout &lt;&lt; &#34;Invalid parameter(s)\n&#34;;
      return false;
    }
    std::cout &lt;&lt; __FUNCTION__ &lt;&lt; &#34; otherContact: &#34; &lt;&lt; otherContact
              &lt;&lt; &#34; reference count: &#34; &lt;&lt; otherContact.use_count() &lt;&lt; &#39;\n&#39;;
    return name == otherContact-&gt;name &amp;&amp; email == otherContact-&gt;email;
  }

 protected:
  std::string name;
  std::string email;
};

int main() {
  std::cout &lt;&lt; &#34;Foo\n&#34;;
  std::shared_ptr&lt;Contact&gt; contactJohn =
      std::make_shared&lt;Contact&gt;(&#34;John Doe&#34;, &#34;jdoe@mail.com&#34;);
  std::shared_ptr&lt;Contact&gt; contactJane =
      std::make_shared&lt;Contact&gt;(&#34;Jane Smith&#34;, &#34;jsmith@mail.com&#34;);
  std::cout &lt;&lt; &#34;ContactJane pointer: &#34; &lt;&lt; contactJane
            &lt;&lt; &#34; reference count: &#34; &lt;&lt; contactJane.use_count() &lt;&lt; &#39;\n&#39;;
  std::cout &lt;&lt; &#34;Are they equals?: &#34; &lt;&lt; contactJohn-&gt;compare(contactJane) &lt;&lt; &#39;\n&#39;;
  std::cout &lt;&lt; &#34;ContactJane pointer: &#34; &lt;&lt; contactJane
            &lt;&lt; &#34; use count: &#34; &lt;&lt; contactJane.use_count() &lt;&lt; &#39;\n&#39;;
  std::cout &lt;&lt; &#34;Bar\n&#34;;
  return 0;
}</pre>
        </td>
      </tr>
    </tbody>
  </table>
</figure>


  
  
  
  


<figure class="highlight bash">
  <figcaption>
    
  </figcaption>
  <table>
    <tbody>
      <tr>
        <td class="gutter">
          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
        </td>
        <td class="code">
          <pre class="bash code-highlight">Constructed: [0x1bf4c30]
Constructed: [0x1bf4cc0]                                             
ContactJane pointer: 0x1bf4cc0 use count: 1
compare otherContact: 0x1bf4cc0 use count: 2
Are they equals?: 0
ContactJane pointer: 0x1bf4cc0 use count: 1
Bar
Destructing: [0x1bf4cc0]
Destructing: [0x1bf4c30]</pre>
        </td>
      </tr>
    </tbody>
  </table>
</figure>

<p>Notice how calling <code>compare</code> increases the use counter for <code>contactJane</code> to two. Then, <code>compare</code> returns and the use counter goes back to one. When <code>main</code> finishes, the counter goes to zero, and memory is properly deleted. We do not have to worry about whether <code>compare</code> will invalidate our memory or not. Another problem solved by the smart pointers!</p>

<p>In conclusion, you should avoid the use of regular pointers and start using <code>unique_ptr</code> and <code>shared_ptr</code> pointers. They will save you a lot of headaches and you will get the most out of the modern C++ language.</p>

<h1 id="more-resources">More resources</h1>

<ul>
<li><a href="http://en.cppreference.com/w/cpp/memory">C++ Dynamic memory management reference documentation</a></li>
</ul>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://eariassoto.github.io/tags/c&#43;&#43;/">C&#43;&#43;</a>

  <a class="tag tag--primary tag--small" href="https://eariassoto.github.io/tags/pointers/">pointers</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                <i class="fa fa-angle-left"></i>
                <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
              </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://eariassoto.github.io/2017/11/analyze-the-testing-coverage-of-your-c---code/" data-tooltip="Analyze the testing coverage of your C&#43;&#43; code">
              
                <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                <i class="fa fa-angle-right"></i>
              </a>
            </li>
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%25!s%28%3cnil%3e%29">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%25!s%28%3cnil%3e%29">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2018 Emmanuel Arias. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                <i class="fa fa-angle-left"></i>
                <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
              </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://eariassoto.github.io/2017/11/analyze-the-testing-coverage-of-your-c---code/" data-tooltip="Analyze the testing coverage of your C&#43;&#43; code">
              
                <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                <i class="fa fa-angle-right"></i>
              </a>
            </li>
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%25!s%28%3cnil%3e%29">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%25!s%28%3cnil%3e%29">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Feariassoto.github.io%2F2018%2F02%2Fmake-your-pointers-smart---c---good-practices%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Feariassoto.github.io%2F2018%2F02%2Fmake-your-pointers-smart---c---good-practices%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/34e6d94006f393aa22fbf320352b25b6?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Emmanuel Arias</h4>
    
      <div id="about-card-bio">A software developer looking for his $PATH</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Costa Rica
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://eariassoto.github.io/2018/02/make-your-pointers-smart---c---good-practices/">
                <h3 class="media-heading">Make your pointers smart - C&#43;&#43; good practices</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ever since the C++ language was first standardized, new and delete were defined as the methods to create/delete objects dynamically. The new operator allocates a memory block to construct an object and then calls the proper class&rsquo; constructor to initialize it. If successful, this operator will return a pointer to the location of the memory block. Otherwise, it will return nullptr or it will throw an exception. The delete operator executes the inverse operation, it deallocates object&rsquo;s memory block.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://eariassoto.github.io/2017/11/analyze-the-testing-coverage-of-your-c---code/">
                <h3 class="media-heading">Analyze the testing coverage of your C&#43;&#43; code</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>Writing unit tests is a great way to ensure that your code is behaving correctly. But how can you tell how much of your code are you testing? The GCC compiler provides tools to analyze the testing coverage of your project. In this post, I will show you how to integrate these tools in a CMake project.
</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://eariassoto.github.io/2017/10/test-your-c---code-with-the-google-test-framework/">
                <h3 class="media-heading">Test your C&#43;&#43; code with the Google Test framework</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p><a href="https://eariassoto.github.io/2017/04/building-a-basic-c/c---project-template/">In a previous post</a>, I showed you a C/C++ template that you can use for a project. I felt that it needed a basic testing framework. Therefore, we are going to learn how to install and use the Google Test framework to write tests. When we have finished this tutorial, we will have an executable that will run tests for our code.
</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://eariassoto.github.io/2017/09/first-steps-with-go/">
                <h3 class="media-heading">First Steps With Go</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>Go is a simple and powerful programming language. Its syntax is familiar to C/C++ but it definately has improvements in comparison. It has a bunch of great features such as static types, memory safety, garbage collection, and it is targeted to concurrent programming. I discovered it very recently, so I want to start simple and learn the basics of this language. In this post, we will write our first Go program and library. Also, we will learn how to unit tests our Go programs.
</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://eariassoto.github.io/2017/07/source-to-source-compilation-with-lex-yacc/">
                <h3 class="media-heading">Source-to-source compilation with Lex-Yacc</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>In this post, I will describe a source-to-source compiler that transforms a Brainfuck program into its equivalent 64 bits assembly code. The assembly program can be built into a executable, thus allowing you to run Brainfuck programs natively.
</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://eariassoto.github.io/2017/04/building-a-basic-c/c---project-template/">
                <h3 class="media-heading">Building a basic C/C&#43;&#43; project template</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>Starting a C/C++ project can be as easy or as difficult as you want. Personally, I don&rsquo;t like to fire up an IDE just for a small program. So, I end up using a text editor and compiling by terminal. However, the compilation process can get tedious. In this post, we will build a simple project template for a C/C++ program. This project will use the CMake tool to handle all the compilation process.
</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://eariassoto.github.io/post/">
                <h3 class="media-heading">Posts</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         7 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('http://res.cloudinary.com/diuzz9apm/image/upload/v1505067115/startrails-485598_1920_t7xgvj_ym7u0q.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" integrity="sha256-IFHWFEbU2/+wNycDECKgjIRSirRNIDp2acEB5fvdVRU=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js" integrity="sha256-+mpyNVJsNt4rVXCw0F+pAOiB3YxmHgrbJsx4ecPuUaI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.js" integrity="sha256-vMxgR/7FtLovVA+IPrR7+xTgIgARH7y9VZQnmmi0HDI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.js" integrity="sha256-N0qFUh7/9vLvia87dDndewmsgsyYoNkdA212tPc+2NI=" crossorigin="anonymous"></script>


<script src="https://eariassoto.github.io/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>

  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/eariassoto.github.io\/2018\/02\/make-your-pointers-smart---c---good-practices\/';
          
            this.page.identifier = '\/2018\/02\/make-your-pointers-smart---c---good-practices\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'eariassoto-github-io';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

